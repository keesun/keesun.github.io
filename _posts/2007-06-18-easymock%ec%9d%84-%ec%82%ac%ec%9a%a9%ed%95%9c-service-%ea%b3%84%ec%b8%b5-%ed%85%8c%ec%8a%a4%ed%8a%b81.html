---
layout: post
title: EasyMock을 사용한 Service 계층 테스트1
date: 2007-06-18 11:55:59.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- 10장 Testing
tags:
- EasyMock
- Service Layer 구현
- TDD
meta:
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1323096700'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>참조 : <a href="http://www.easymock.org/EasyMock2_2_Documentation.html" target="_blank">http://www.easymock.org/EasyMock2_2_Documentation.html</a></p>
<p>패키지 구조는 다음과 같습니다. <br />MemberService를 구현하려는데 아직 MemberDao는 구현되어 있지 않고 MemberDao라는 인터페이스만 존재합니다.<img src="{{ site.baseurl }}/assets/dm241.png" class="aligncenter" width="280" height="364" alt="사용자 삽입 이미지" />이 때 MemberServiceImpl 클래스를 TDD로 개발하기 위해 다음과 같이 작성했습니다.<br /><font size="2"><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US"></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span></span></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 10px; background-color: rgb(231, 231, 231);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span><strong><strong>public</strong> <strong>class</strong> MemberServiceImplTest {</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><strong /><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>MemberService </strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>;</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>MemberDao </strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>mockMemberDao</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>;</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><strong /><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US"><strong>@Before</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><strong>public</strong> <strong>void</strong> setUp() {</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span><strong> = <strong>new</strong> MemberServiceImpl();<br /></strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>.setMemberDao(</strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>mockMemberDao</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>}</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><strong /><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US"><strong>@Test</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><strong>public</strong> <strong>void</strong> testGetMember() {</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(63, 127, 95); font-family: 'Courier New';" lang="EN-US"><strong>//Edge Case Test</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>String mail = <strong>null</strong>;</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>Member member = </strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>.get(mail);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><i>assertNull</i>(member);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><strong /><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>mail = </strong></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US"><strong>"nonExistMail@mail.com"</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>;</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>member = </strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>.get(mail);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><i>assertNull</i>(member);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><strong /><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span></span><span style="color: rgb(63, 127, 95); font-family: 'Courier New';" lang="EN-US"><strong>//Common Case Test</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>mail = </strong></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US"><strong>"existMail@mail.com"</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>;</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>member = </strong></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US"><strong>memberService</strong></span><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>.get(mail);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><i>assertNotNull</i>(member);</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><i>assertEquals</i>(mail, member.getMail());</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""><strong>&nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong>}</strong></span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><strong>}</strong></span></p>
</div>
<p></span><br />
</font><br />위 테스트 코드를 실행하면 NullPointerExeption이 발생합니다. MemberDao 객체를 만들지도 않고 MemberService객체에 세팅하고 있기 때문이죠.</p>
<p>1. EasyMock을 사용하여 mock객체를 만들어서 세팅을 하겠습니다.<br />- EasyMock을 static import 합니다.</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">import</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">static</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> org.easymock.EasyMock.*;</span></font><br />- MemberDao를 MemberService에 세팅하기 전에 createMock()메소드를 사용하여 mock객체를 생성합니다.</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></p>
<p><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 10px; background-color: rgb(231, 231, 231);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Before<br /></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> setUp() {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberService</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">new</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> MemberServiceImpl();</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = <i>createMock</i>(MemberDao.</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">class</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberService</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.setMemberDao(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><font size="2"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</font></font></span></p>
</div>
<p></span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US"><font size="2"><br /></font></span><font size="2"></font><br />
</font>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2">- 테스트를 돌려서 확인합니다.<br /><img src="{{ site.baseurl }}/assets/cm258.png" class="aligncenter" width="500" height="259" alt="사용자 삽입 이미지" />MemberDao의 get() 메소드의 행위를 사전(테스트 하기 전)에 설정해주지 않았기 때문에 에러가 났습니다.</p>
<p>MemberServiceImple을 다음과 같이 구현해 두었습니다.<br /></font></p>
<p><font size="2"><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US"></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 10px; background-color: rgb(231, 231, 231);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">class</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> MemberServiceImpl </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">implements</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> MemberService {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">private</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> MemberDao </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> setMemberDao(MemberDao memberDao) {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">this</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">.</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = memberDao;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Member get(String mail) {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">return</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(mail);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2">}</font></span></p>
</div>
<p></span></b></font><br />
</font>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><font size="2"></p>
<p>2. 녹화 -&gt; 재생 -&gt; 검증<br />MemberService를 구현할 때 사용한 MemberDao의 get() 메소드가 어떻게 동작할지 녹화를 해야합니다.<br />그리고 녹화 한 상태를 재생(replay) 시킨 다음 MemberService를 동작 시키고 마지막으로 녹화한 대로 잘 동작하였는지 검증(verify)하면 됩니다.<br /></font></p>
<p><font size="2"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style=""></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 10px; background-color: rgb(231, 231, 231);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Test</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> testGetMemberByNull() {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">null</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>expect</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)).andReturn(</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">null</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>replay</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberService</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>assertNull</i>(</span><u><span style="color: blue; font-family: 'Courier New';" lang="EN-US">member</span></u><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>verify</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Test</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> testGetMemberByWrongMail() {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"nonExistMail@mail.com"</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>expect</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)).andReturn(</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">null</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>replay</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberService</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>assertNull</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>verify</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Test</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> testGetMemberByCorrectMail() {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"existMail@mail.com"</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>Member correctMember = </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">new</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Member(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>expect</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)).andReturn(correctMember);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>replay</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US"> = </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">memberService</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.get(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>assertNotNull</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>assertEquals</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mail</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">, </span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">member</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">.getMail());</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><i>verify</i>(</span><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">mockMemberDao</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</font></span></p>
</div>
<p></span></span></font><br />3. 테스트가 모두 통과하여 MemberService의 get() 메소드 구현이 끝났습니다.<br /><img src="{{ site.baseurl }}/assets/dm242.png" class="aligncenter" width="500" height="173" alt="사용자 삽입 이미지" /></font></p>
