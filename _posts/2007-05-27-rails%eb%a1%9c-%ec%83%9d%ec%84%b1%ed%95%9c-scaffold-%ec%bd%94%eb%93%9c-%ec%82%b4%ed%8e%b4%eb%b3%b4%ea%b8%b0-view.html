---
layout: post
title: rails로 생성한 scaffold 코드 살펴보기 - View
date: 2007-05-27 01:31:27.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- on Rails
tags:
- RoR
- View
meta:
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1323151421'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>View는 세 가지 구성요소로 이루어져 있습니다. Layout, Template, Partial 이 세가지 입니다. 각각의 관계를 그림으로 나타내면 다음과 같습니다.<br /><img src="{{ site.baseurl }}/assets/dm208.jpg" class="aligncenter" width="181" height="267" alt="사용자 삽입 이미지" />Layout 은 각각의 Template 앞 뒤에 해당하는 HTML 을 넣을 수 있습니다.<br />Template 은 각각의 페이지에 해당하며<br />Partial 은 각각의 페이지 구성요소 중에 여러 페이지에서 사용할 부분을 따로 빼낸 부분입니다.<br /><img src="{{ site.baseurl }}/assets/dm209.jpg" class="aligncenter" width="500" height="74" alt="사용자 삽입 이미지" />위 표에 각각의 default name이 적혀있으며 파일이 위치 할 폴더를 보여주고 있습니다.</p>
<p><span style="FONT-WEIGHT: bold">Layout</span></p>
<div style="PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; BACKGROUND-COLOR: rgb(208,255,157)">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"<br />&nbsp; &nbsp; &nbsp;&nbsp; "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</p>
<p>&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;<br />&lt;head&gt;<br />&nbsp; &lt;meta http-equiv="content-type" content="text/html;charset=UTF-8" /&gt;<br />&nbsp; &lt;title&gt;Categories: &lt;%= controller.action_name %&gt;&lt;/title&gt;<br />&nbsp; <span style="COLOR: rgb(255,0,0)">&lt;%= stylesheet_link_tag 'scaffold' %&gt;</span><br />&lt;/head&gt;<br />&lt;body&gt;<br /><span style="COLOR: rgb(23,127,205)">&lt;h1&gt;&lt;%=@heading %&gt;&lt;/h1&gt;</span><br />&lt;p style="color: green"&gt;&lt;%= flash[:notice] %&gt;&lt;/p&gt;</p>
<p>&lt;%= yield&nbsp; %&gt;</p>
<p>&lt;/body&gt;<br />&lt;/html&gt;</div>
<p>스케폴드에서 만들어준 레이아웃 코드입니다.<br />스타일 시트는 따옴표 사이에 이름을 주면 rails의 웹 기본 폴더인 public의 하위 디렉토리 stylesheets 밑에 위치한 파일을 찾게 됩니다.<br /><img src="{{ site.baseurl }}/assets/dm210.jpg" class="aligncenter" width="238" height="97" alt="사용자 삽입 이미지" />파란색 부분의 코드는 임의로 넣어준 것입니다. 각각의 페이지에서 @heading 변수의 값을 바꿔주면 여기서 출력해줄 값도 변하게 됩니다.</p>
<p><span style="FONT-WEIGHT: bold">Template</span></p>
<div style="PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; BACKGROUND-COLOR: rgb(208,255,157)">&lt;% @heading = "Edit Category" %&gt;<br />&lt;% form_tag :action =&gt; 'update', :id =&gt; @category do %&gt;<br />&nbsp; &nbsp; <span style="COLOR: rgb(255,0,0)">&lt;%= render :partial =&gt; 'form' %&gt;</span><br />&nbsp; &nbsp; &lt;%= submit_tag 'Edit' %&gt;<br />&lt;% end %&gt;</p>
<p>&lt;%= link_to 'Show', :action =&gt; 'show', :id =&gt; @category %&gt;<br />|<br />&lt;%= link_to 'Back', :action =&gt; 'list' %&gt;</div>
<p>@heading 변수에 Edit Category 라는 값을 주고 있습니다. 따라서 레이아웃에서 이 값을 받아서 화면에 출력하게 될 것입니다. 그리고 여기서 주목할 부분은 빨간색 부분인 render :partial 입니다. 저 코드가 위치한 자리에 form이라는 partial을 사용하라는 의미 인 것 같습니다. 그럼 _form.rhtml을 찾아서 저 위치에 포함시켜 줍니다.<br /><br style="FONT-WEIGHT: bold" /><span style="FONT-WEIGHT: bold">Partial</span></p>
<div style="PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; BACKGROUND-COLOR: rgb(208,255,157)">&lt;%= error_messages_for 'category' %&gt;</p>
<p>&lt;!--[form:category]--&gt;<br />&lt;p&gt;&lt;label for="category_category"&gt;Category&lt;/label&gt;&lt;br/&gt;<br />&lt;%= <span style="COLOR: rgb(255,0,0)">text_field 'category', 'category'</span>, <span style="COLOR: rgb(23,127,205)">"size"=&gt;20, "maxlength"=&gt;20</span>&nbsp; %&gt;&lt;/p&gt;</p>
<p>&lt;p&gt;&lt;label for="category_created_on"&gt;Created on&lt;/label&gt;&lt;br/&gt;<br />&lt;%= datetime_select 'category', 'created_on'&nbsp; %&gt;&lt;/p&gt;</p>
<p>&lt;p&gt;&lt;label for="category_updated_on"&gt;Updated on&lt;/label&gt;&lt;br/&gt;<br />&lt;%= datetime_select 'category', 'updated_on'&nbsp; %&gt;&lt;/p&gt;<br />&lt;!--[eoform:category]--&gt;</div>
<p>_form.rhtml 파일입니다. <br />맨 윗 부분은 이전 글에서 예상했던 것 처럼 에러 메시지를 출력하는 부분이 맞습니다.<br />파란색 부분은 별도로 추가해준 부분입니다. <br />여기서 살펴볼 코드는 빨간색 부분입니다. text_field 는 보여줄 &lt;input /&gt; 의 타입을 지정해 주는 것으로 예상이 되며 첫 번째 인자 'category'는 테이블이고 두 번째 인자 'category'는 테이블의 컬럼 이름입니다.</p>
