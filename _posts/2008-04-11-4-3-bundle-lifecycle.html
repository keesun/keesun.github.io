---
layout: post
title: 4.3. Bundle Lifecycle
date: 2008-04-11 12:20:05.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Chapter 04
tags:
- Chapter 4
- Spring DM
meta:
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1323116838'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>OSGi는 다이내믹 플랫폼으로, 프레임워크가 동작하고 있는 도중에 번들을 설치, 시작, 업데이트, 멈춤, 제거 할 수 있다.</p>
<p>번들이 멈추면be stopped <br />- 번들이 등록한 서비스들은 모두 등록이 해지되고unregistered 번들은 RESOLVED 상태가 된다.<br />- 번들이 가지고 있던 자원을 반납하고 쓰레드도 종료한다.<br />- 번들이 노출 시켰던 패키지들은 번들이 멈추더라도 계속해서 다른 번들들에 의해 사용될 수 있다.</p>
<p>번들은 RESOLVED 상태에서 업데이트 할 수 있다.<br />- 업데이트하는 과정은 같은 번들을 특정 버전에서 다른 버전으로 이관migrate하는 것이다.</p>
<p>번들은 RESOLVED 상태에서 시작be started 될 수 있다.<br />- 시작되면 번들은 ACTIVE 상태가 된다.</p>
<p>OSGi의 PackageAdmin refreshPackages 명령어<br />- 전체 OSGi 프레임워크 또는 설치되어 있는 번들들의 모든 패키지를 리프래시한다.<br />- 리프래시하는 동안에 그 대상이 되는 번들의 Application Context는 멈췄다가 재시작한다.<br />- refreshPackages 명령 처리 후, 수정된 번들의 이전 버전 패키지 또는 제거된 번들의 패키지는 더이상 사용할 수 없다. 자세한 사항은 OSGi 스펙 참조.</p>
<p>(다시) 번들이 멈추면..<br />- application context는 자동으로 제거된다.<br />- 서비스들도 OSGi 서비스 레지스트리에서 제거된다.<br />- application context의 종료 라이프사이클(DisposableBean, destroy-method, @Post머시기..)이 진행된다.<br />- 멈춘담에 바로 다시 시작시키면, 새로운 application context를 만든다.</p>
