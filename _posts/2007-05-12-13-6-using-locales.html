---
layout: post
title: 13.6. Using locales
date: 2007-05-12 09:22:01.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Chapter 13
tags:
- locale
- Spring Reference 13장
meta:
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1322735565'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>Request가 들어오면 Dispatcher는 Locale resolver를 찾게 되고 만약에 있으면 Locale을 설정할 때 사용합니다. RequestContext.getLocale() 메소드를 사용해서 Locale resolver에 의해 설정 된 Locale을 가져올 수 있습니다.</p>
<p><span style="font-weight: bold;">13.6.1. AcceptHeaderLocaleResolver</span></p>
<p>사용자의 브라우져에서 보내진 request의 헤더에 accept-language 부분에서 Locale을 읽어들입니다. 사용자의 OS locale을 나타냅니다.<br /><br style="font-weight: bold;" /><span style="font-weight: bold;">13.6.2. CookieLocaleResolver</span></p>
<p>사용자 컴터에 쿠키를 남아 있다면 그 쿠키에 설정한 Locale을 읽어 들입니다.<br />다음과 같은 속성을 설정할 수 있습니다.</p>
<table class="MsoTableMediumGrid3Accent3" style="border: medium none ; border-collapse: collapse;" border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr style="">
<td style="border-style: solid; border-color: white; border-width: 1pt 1pt 3pt; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">Property<o:p></o:p></span></b></p>
</td>
<td style="border-style: solid solid solid none; border-color: white white white -moz-use-text-color; border-width: 1pt 1pt 3pt medium; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">Default<o:p></o:p></span></b></p>
</td>
<td style="border-style: solid solid solid none; border-color: white white white -moz-use-text-color; border-width: 1pt 1pt 3pt medium; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">Description<o:p></o:p></span></b></p>
</td>
</tr>
<tr style="">
<td style="border-style: none solid; border-color: -moz-use-text-color white; border-width: medium 3pt medium 1pt; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">cookieName<o:p></o:p></span></b></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(205, 221, 172) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><span lang="EN-US">classname +<br />
  LOCALE<o:p></o:p></span></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(205, 221, 172) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="">쿠키 이름<span lang="EN-US"><o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: solid solid none; border-color: white white -moz-use-text-color; border-width: 1pt 3pt medium 1pt; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">cookieMaxAge<o:p></o:p></span></b></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(230, 238, 213) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal"><span lang="EN-US">Integer.MAX_INT<o:p></o:p></span></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(230, 238, 213) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal">쿠키 살려둘 시간<span lang="EN-US">.<o:p></o:p></span></p>
<p class="MsoNormal"><span lang="EN-US">-1</span>로 해두면 브라우저를 닫을 때 없어집니다<span lang="EN-US">.<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: solid; border-color: white; border-width: 1pt 3pt 1pt 1pt; padding: 0cm 5.4pt; background: rgb(155, 187, 89) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><b><span style="color: white;" lang="EN-US">cookiePath<o:p></o:p></span></b></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(205, 221, 172) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><span lang="EN-US">/<o:p></o:p></span></p>
</td>
<td style="border-style: none solid solid none; border-color: -moz-use-text-color white white -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 5.4pt; background: rgb(205, 221, 172) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style=""><span lang="EN-US">Path</span>를 지정해<br />
  주면 해당 하는<span lang="EN-US"> path</span>와 그 하위 <span lang="EN-US">path</span>에서만 참조할<br />
  수 있습니다<span lang="EN-US">.<o:p></o:p></span></p>
</td>
</tr>
</tbody>
</table>
<p><span style="font-weight: bold;">13.6.3. SessionLocaleResolver</span></p>
<p>requst가 가지고 있는 session으로 부터 locale 정보를 가져옵니다.</p>
<p><span style="font-weight: bold;">13.6.4. LocaleChangeInterceptor</span></p>
<p>HandlerMapping에 인터셉터를 등록하여 특정 locale의 요청을 가로채서 특정 파라미터에 넘어 온 값으로 locale 을 알아낼 수 있습니다.
<div style="padding: 10px; background-color: rgb(228, 228, 228);">&lt;bean id="localeChangeInterceptor"<br />&nbsp; &nbsp; &nbsp; class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor"&gt;<br />&nbsp; &nbsp; &lt;property name="paramName" value="siteLanguage"/&gt;<br />&lt;/bean&gt;</p>
<p>&lt;bean id="localeResolver"<br />&nbsp; &nbsp; &nbsp; class="org.springframework.web.servlet.i18n.CookieLocaleResolver"/&gt;</p>
<p>&lt;bean id="urlMapping"<br />&nbsp; &nbsp; &nbsp; class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;<br />&nbsp; &nbsp; &lt;property name="interceptors"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;list&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;ref bean="localeChangeInterceptor"/&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;/list&gt;<br />&nbsp; &nbsp; &lt;/property&gt;<br />&nbsp; &nbsp; &lt;property name="mappings"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;/**/*.view=someController&lt;/value&gt;<br />&nbsp; &nbsp; &lt;/property&gt;<br />&lt;/bean&gt;</div>
<p>여기서는 모든 .view로 끝나는 요청을 가로채서 siteLanguage라는 request의 파라미터를 조사 하여 locale을 알 수 있게 됩니다.</p>
