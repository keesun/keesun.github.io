---
layout: post
title: 봄싹 스웨거 4월 모임 메모
date: 2011-05-02 15:26:21.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  _edit_last: '1'
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1323168110'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>중구난방으로 정리한 지난 스터디 메모장..</p>
<p>------------------</p>
<p>jps</p>
<p>jstats</p>
<p>자바옵션으로 줄 수 있는 verbosegc</p>
<p><a href="http://www.javaspecialists.eu/archive/Issue191.html" target="_blank">http://www.javaspecialists.eu/archive/Issue191.html</a></p>
<p>verbosegc로 찍은 로그 분석기, hp jmeter</p>
<p>jProfiler 추천함</p>
<p>String 처리가 성능에 미치는 영향 -&gt; StringBuffer, StringBuilder</p>
<p>로깅이 성능에 미치는 영향 -&gt; SLF4J</p>
<p>워크로그는 응답 처리 다 끝난 다음에 찍힌다.</p>
<p>웹 로그 분석 툴</p>
<p>Serial Collector는 주로 클라이언트 애플리케이션에서 사용.</p>
<p>G1은 JDK7에서 지원. JDK6에서도 early access로 사용 가능.</p>
<p>Serial Collector: mark-sweep-compact</p>
<p>Parallel Collector: young 영역을 paraller하게, old 영역은 mark-sweep-compact</p>
<p>Parallel Compacting: old 영역을 mark-summary-compaction</p>
<p>Concurrent Mark Sweep: old 영역을 CMS 사용. CPU 많이 먹음. 그리고 특정 조건에서 컴팩션이 발생하는데... 그게 m-s-c보다 더 오래 걸린다.</p>
<p>G1은 copy 방식이 아니라 move 방식이라 훨씬 빠르다.</p>
<p>GC 튜닝 방법</p>
<p>- 메모리 크기 선택</p>
<p>어떻게? 여러 서버에 각기 다른 메모리 크기 할당한 뒤, full GC 수행 시간과 빈도 측정.</p>
<p>- GC 방식 선택</p>
<p>- GC 옵션 선택</p>
<p>- VM 타입, Heap 크기, Young 크기와 비율(-XX:NewRatio 2나 3 해보자), Perm 크기, 쓰레드 크기(-Xss)</p>
<p>부하 생성: Grinder, JMeter</p>
<p>BTrace: 동적 모니터링 툴</p>
<p><a href="http://kenai.com/projects/btrace/downloads/directory/releases/release-1.2" target="_blank">http://kenai.com/projects/btrace/downloads/directory/releases/release-1.2</a></p>
<p>btrace pid 스크립트_이름</p>
<p>com.sun.tools.attach.VirtualMachine</p>
<p><a href="http://www.j6a.ru/classcom_1_1sun_1_1tools_1_1attach_1_1_virtual_machine.html" target="_blank">http://www.j6a.ru/classcom_1_1sun_1_1tools_1_1attach_1_1_virtual_machine.html</a></p>
<p>Instrument</p>
<p>ASM</p>
<p><a href="http://toby.epril.com/?p=828" target="_blank">http://toby.epril.com/?p=828</a></p>
<p>프로파일링 툴은 운영서버에서만 사용해야 한다. 그런데 BTrace는 특정 몇몇 클래스에만 적용해 볼 수 있다.</p>
<p>kill -3 스레드덤프</p>
