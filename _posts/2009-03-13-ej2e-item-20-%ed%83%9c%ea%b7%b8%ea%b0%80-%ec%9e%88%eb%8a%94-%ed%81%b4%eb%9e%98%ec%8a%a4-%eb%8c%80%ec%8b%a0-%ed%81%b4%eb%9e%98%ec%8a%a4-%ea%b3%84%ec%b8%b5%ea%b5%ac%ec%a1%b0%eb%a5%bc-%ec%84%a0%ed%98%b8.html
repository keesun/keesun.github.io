---
layout: post
title: EJ2E Item 20. 태그가 있는 클래스 대신 클래스 계층구조를 선호하라.
date: 2009-03-13 11:09:16.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Java
tags:
- effective java
- effective java 2nd edition
- 계층 구조
- 상속
meta:
  arkayne-cache-post: |2+







    <!-- BlogGlue Plugin Error -->
    <!-- This page cannot be linked by BlogGlue. -->
    <!-- You need a valid token. Get one at the URL below. -->
    <!-- http://www.blogglue.com/login/ -->

















  arkayne-time-post: '1322995300'
author:
  login: whiteship
  email: whiteship2000@gmail.com
  display_name: 기선
  first_name: 기선
  last_name: 백
---
<p>참조: Effective Java 2nd Edition. Prefer class hierarchies to tageed classes</p>
<p><img src="{{ site.baseurl }}/assets/49ba3cbd85f5eCX.png" class="aligncenter" width="482" height="662" alt="사용자 삽입 이미지" /><br />위와 같은 클래스의 단점:<br />- enum, switch 문, 태그 필드로 인해 지져분하다.<br />- 여러 구현체를 하나의 클래스로 합쳐놓았기 때문에 가독성이 떨어진다.<br />- 불필요한 필드까지 가지고 인스턴스를 만들어야 하기 떄문에 메모리 풋프린트가 증가한다.<br />- 생성자에서 불필요한 필드까지 초기화하지 않는 이상 필드를 final로 선언할 수 없다.<br />- 생성자에서 초기화를 잘못했을 때 컴파일 시점에 이것을 알 수 없다.<br />- 새로운 종류를 추가했을 때 switch문에 case를 추가해야 한다는 것을 기억해야 한다. 안그러면 런타임 에러가 발생한다.<br />- 인스턴스 데이터 타입이 실제 타입을 알려주지 못한다.<br />=&gt; 즉 장황하고, 에러가 발생할 여지가 많고, 비효율적이다.</p>
<p>먼저 추상 클래스를 만들어서 일반적인 것들을 이 클래스로 이동시키고, <br />구체적인 하위 클래스를 정의한다.<br />해당 하위 클래스에서 추상 매서드를 구현한다.</p>
<p><img src="{{ site.baseurl }}/assets/cfile22.uf.13023D0F49BA3DC755810C.png" class="aligncenter" width="537" height="215" alt="사용자 삽입 이미지" /><br />이렇게 구성하면<br />- 깨끗하고 간단하다.<br />- 특정 타입에 관련된 속성은 해다 클래스가 가지게 된다. 따라서 불필요한 필드가 없다.<br />- 모든 필드를 final로 선언할 수 있다.<br />- 컴파일 시점에 생성자에서 데이터 필드를 초기화 하는지, 추상 매서드를 구현했는지 확인할 수 있다.</p>
