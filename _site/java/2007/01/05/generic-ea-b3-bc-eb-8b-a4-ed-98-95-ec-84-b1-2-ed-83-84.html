<p>앞서 살펴본 <a href="http://whiteship.tistory.com/345" target="_blank">Generic과 다형성</a>에서 보았던 답답함을 해결하는 간단한 방법은 와일드 카드를 사용하는 것입니다. feedAnimals메소드를 다음과 같이 수정합니다.</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b></b></font></p>
<div style="padding: 10px; background-color: rgb(250, 255, 169);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">private</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> feedAnimals(List&lt;? </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">extends</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Animal&gt; animals) {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">for</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">(Animal animal : animals){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>animal.eat();</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><b><font size="2"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</font></b></font></span></p>
</div>
<p><span style="text-decoration: line-through;">위 코드는 아래와 같이 써도 똑같은 의미 입니다.</span> 다른 의미 입니다. 위에 것은 상위 제한이 Animal인 어떠한 타입이든(Dog든 Cat이든 Animal을 상속 받았다면..) 올 수 있는데 아래 것은 상위 타입이 Animal인 어떤 타입 하나(Dog면 Dog, Cat이면 Cat)만 올 수 있기 때문에 콜렉션에 타입 제약을 가할 수 있기 때문에 추가가 됩니다. T 타입으로 추가를 해야겠죠.</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b></b></font></p>
<div style="padding: 10px; background-color: rgb(250, 255, 169);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">private</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> &lt;T </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">extends</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Animal&gt; </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> feedAnimals(List&lt;T&gt; animals) {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">for</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">(Animal animal : animals){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>animal.<span style="background: silver none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">eat</span>();</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><b><font size="2"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</font></b></font></span></p>
</div>
<p>그럼 이런 상황에서 Dog 리스트에 Cat 객체를 넣으려는 건 어떻게 방지가 될까가 궁금합니다. 컴파일러는 위와 같이 ? 나 T 같은 <font color="#ff0000">와일드 카드</font>[footnote]Java 에서 identifier가 될 수 있는 어떤 문자도 상관이 없습니다.[/footnote]<font color="#ff0000">가 사용되면 컴파일러는</font> <font color="#ff0000">콜렉션에 추가하는 작업을 허용하지 않습니다.<br /></font><br />따라서 다음고 같은 코드를 컴파일 에러를 발생시킵니다.</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b></b></font></p>
<div style="padding: 10px; background-color: rgb(250, 255, 169);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">private</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> &lt;T </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">extends</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Animal&gt; </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> feedAnimals(List&lt;T&gt; animals) {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">for</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US">(Animal animal : animals){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>animal.eat();</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>animals.add(</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">new</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Dog()); &nbsp; //에러</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>animals.add(</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">new</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Cat()); &nbsp; //에러</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>animals.add(</span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">new</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> Animal());&nbsp; //에러</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><b><font size="2"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</font></b></font></span></p>
</div>
<p>하지만 다음과 같이 추가하는 작업을 할 수 있습니다.
<div style="padding: 10px; background-color: rgb(255, 218, 237);">&nbsp; &nbsp; private &lt;T extends Animal&gt; void feedAnimals(List&lt;T&gt; animals,<span style="font-weight: bold;"> T a</span>) {<br />&nbsp; &nbsp; &nbsp; &nbsp; for(Animal animal : animals){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animal.eat();<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />// &nbsp;&nbsp; &nbsp; &nbsp; animals.add(new Dog());<br />// &nbsp;&nbsp; &nbsp; &nbsp; animals.add(new Cat());<br />// &nbsp;&nbsp; &nbsp; &nbsp; animals.add(new Animal());<br />&nbsp; &nbsp; &nbsp; &nbsp; animals.add(<span style="font-weight: bold;">a</span>);<br />&nbsp; &nbsp; }</div>
<p>이게 되는 이유는 T라는 타입 하나로 Collection안에 들어가는 요소들의 타입이 제한 할 수 있기 때문입니다.</p>
<p>또 하나 여기서 사용된 extends의 의미는 class head부분에서 사용되는 extends보다 포괄적인 의미를 나타냅니다. extends와 implements를 포함합니다.</p>
<p><a href="http://whiteship.epril.com/wp-content/uploads/1/bl134.zip" class="aligncenter">bl134.zip</a><br />참조 : Head First Java</p>
<p>좀더 자세한 내용은 <a href="http://whiteship.tistory.com/382" target="_blank">Generics</a>를 참조 하세요.</p>
