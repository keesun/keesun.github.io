<p><a href="http://whiteship.tistory.com/378" target="_blank">8번</a>과 <a href="http://whiteship.tistory.com/379" target="_blank">9번</a>에서 살표봤던 포인트컷들을 사용해 보겠습니다.</p>
<p><a href="http://whiteship.tistory.com/349" target="_blank">@AspectJ 를 이용한 초간단 AOP 예제</a>를 살짝 변경하여 사용해 보겠습니다.<br />소스파일은 아래 압축 파일로 묶어 뒀습니다.<br /><a href="http://whiteship.epril.com/wp-content/uploads/1/bl192.zip" class="aligncenter">bl192.zip</a></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left">
<div style="padding: 10px; background-color: rgb(250, 255, 169);">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">import</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> org.aspectj.lang.annotation.Aspect;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">import</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> org.aspectj.lang.annotation.Before;</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2" /><b /><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Aspect</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">class</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> MannerAOP {</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2" /><b /><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Before</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"execution(* set*(String))"</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> confirmName(){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>System.</span><i><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">out</span></i><span style="color: black; font-family: 'Courier New';" lang="EN-US">.println(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"</span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">이름을</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';"> </span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">세팅합니다</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">."</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2" /><b /><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Before</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"execution(* set*(java.util.GregorianCalendar))"</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> confirmBirthday(){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>System.</span><i><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">out</span></i><span style="color: black; font-family: 'Courier New';" lang="EN-US">.println(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"</span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">생일을</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';"> </span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">세팅합니다</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">."</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-family: 'Courier New';" lang="EN-US"><o:p><font size="2" /><b /><font size="2">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><span style="color: rgb(100, 100, 100); font-family: 'Courier New';" lang="EN-US">@Before</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"execution(* set*(int))"</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">)</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span></span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">public</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> </span><b><span style="color: rgb(127, 0, 85); font-family: 'Courier New';" lang="EN-US">void</span></b><span style="color: black; font-family: 'Courier New';" lang="EN-US"> confirmAge(){</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span>System.</span><i><span style="color: rgb(0, 0, 192); font-family: 'Courier New';" lang="EN-US">out</span></i><span style="color: black; font-family: 'Courier New';" lang="EN-US">.println(</span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">"</span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">나이를</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';"> </span><span style="color: rgb(42, 0, 255);"><font face="맑은 고딕">세팅합니다</font></span><span style="color: rgb(42, 0, 255); font-family: 'Courier New';" lang="EN-US">."</span><span style="color: black; font-family: 'Courier New';" lang="EN-US">);</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font size="2"><b><font size="2"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><span style="">&nbsp; &nbsp; &nbsp;&nbsp; </span>}</span><span style="font-family: 'Courier New';" lang="EN-US"><o:p></o:p></span></font></b></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="color: black; font-family: 'Courier New';" lang="EN-US"><font size="2"><b><font size="2">}</font></b></font></span></p>
</div>
<p>세개의 Advice모두 익명 포인트 컷(= In-place 포인트 컷)으로 표현하였습니다. </p>
<p>첫번째 Advice는 리턴타입은 아무거나 상관 없고 메소드의 이름이 set으로 시작하고 아규먼트가 하나이며 String타입인 메소드를 나타낸 것입니다. 그것에 해당하는 것이 현재 name밖에 없기 때문에 Advice에는 "이름을 세팅합니다."를 출력하도록 했습니다.</p>
<p>세번째 것도 첫번째 것과 동일하며 조금 다른건 두번째 것입니다. 두번째 것은 아규먼트의 타입을 패키지 경로까지 포함해서 적어줬습니다. <font color="#ff0000">기본으로 import되지 않는 패키지의 클래스들은 패키지 경로까지 써주어야 합니다.<br /></font></p>
